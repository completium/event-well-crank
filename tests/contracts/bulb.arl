archetype bulb(shaft : address)

states =
| On
| Off initial

event SwitchOn {
  %from : address;
  time : date;
}

event SwitchOff {
  %from : address;
  time : date;
}

transition switchOn() {
  from Off to On
  with effect {
    emit<SwitchOn>({ caller; now })
  }
}

transition switchOff() {
  from On to Off
  with effect {
    emit<SwitchOff>({ caller; now })
  }
}
